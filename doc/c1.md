# Capítulo 1 – Enquadramento e Apresentação do Projeto

## 1.1 Enquadramento

O setor do aluguer de automóveis envolve uma forte componente operacional, que inclui a gestão diária de clientes, veículos, reservas, categorias, manutenção e colaboradores responsáveis pelos atendimentos. Sem um sistema estruturado, esta informação tende a dispersar-se entre processos manuais, dificultando a rastreabilidade das operações, o controlo da frota, o histórico de intervenções e a consistência dos dados.

Neste contexto, o presente projeto — desenvolvido no âmbito da unidade curricular **Desenvolvimento Web I** — consiste no desenvolvimento da API **Car4Me**, uma solução backend destinada a suportar digitalmente as operações de uma empresa de **rent-a-car**. Esta API segue o estilo arquitetural **REST**, utiliza **MySQL** como base de dados relacional e encontra-se totalmente documentada em **OpenAPI 3.0**, permitindo a interação através de Swagger UI.

## 1.2 Descrição Sumária do Sistema

A API **Car4Me** implementa um conjunto completo de funcionalidades necessárias ao funcionamento de um sistema de aluguer de automóveis, nomeadamente:

- Gestão de clientes;
- Gestão da frota de veículos;
- Gestão de categorias de veículos (com preços por dia);
- Gestão de reservas (incluindo estado e histórico);
- Gestão de funcionários responsáveis pelos atendimentos;
- Registos de manutenções associadas aos veículos;
- Relação **N:N** entre clientes e veículos favoritos;
- Aplicação de filtros por parâmetros HTTP em múltiplas entidades.

A API foi desenvolvida de forma modular, garantindo que cada entidade possui operações **CRUD** e comportamentos específicos alinhados com regras de negócio reais de uma empresa de aluguer de carros.

## 1.3 Objetivo Geral

O objetivo geral deste projeto é desenvolver uma API backend robusta, escalável e devidamente documentada, capaz de suportar digitalmente as operações de uma empresa rent-a-car, garantindo integridade dos dados, consistência operacional e facilidade de utilização por parte de aplicações externas (frontend, mobile, dashboards).

## 1.4 Objetivos Específicos

- Implementar uma API REST em **Node.js + Express**, organizada em módulos;
- Modelar um sistema relacional completo em **MySQL**, contemplando operações de aluguer e manutenção;
- Criar endpoints CRUD para clientes, veículos, categorias, reservas, funcionários e manutenções;
- Implementar uma relação **N:N** entre clientes e veículos favoritos;
- Incluir mecanismos de filtragem através de parâmetros HTTP (ex.: estado do veículo, marca, categoria, estado da reserva, etc.);
- Documentar todo o sistema utilizando **OpenAPI 3.0**;
- Permitir execução do sistema em ambiente **Docker**, garantindo portabilidade;
- Definir e aplicar regras de negócio rigorosas para operações sensíveis, como eliminação de registos.

## 1.5 Modelo Conceptual do Domínio

A API baseia-se num conjunto de relações fundamentais:

- **Cliente (1) — (N) Reservas**  
  Um cliente pode efetuar várias reservas.

- **Veículo (1) — (N) Reservas**  
  Um veículo pode ter várias reservas ao longo do tempo.

- **Funcionário (1) — (N) Reservas**  
  Cada reserva é associada a um funcionário de atendimento.

- **Categoria (1) — (N) Veículos**  
  Cada veículo pertence a uma categoria com preço por dia.

- **Veículo (1) — (N) Manutenções**  
  Cada manutenção é associada a um único veículo.

- **Cliente (N) — (N) Veículo (Favoritos)**  
  Através da tabela intermédia `clientes_favoritos`.

Esta estrutura reflete a lógica real de um sistema de rent-a-car.

## 1.6 Requisitos Funcionais de Alto Nível

- RF1 – CRUD de clientes  
- RF2 – CRUD de veículos  
- RF3 – CRUD de categorias de veículos  
- RF4 – CRUD de funcionários  
- RF5 – CRUD de reservas  
- RF6 – CRUD de manutenções  
- RF7 – Listagem de veículos com filtros por parâmetros HTTP (marca, estado, categoria)  
- RF8 – Listagem de reservas com filtros (estado, cliente, veículo)  
- RF9 – Gestão de veículos favoritos (relação N:N)  
  - RF9.1 – Adicionar veículo aos favoritos  
  - RF9.2 – Remover veículo dos favoritos  
  - RF9.3 – Atualizar favoritos (Cliente ou Veiculo)

## 1.7 Regras de Negócio (Integridade nas Operações DELETE)

Para garantir consistência e evitar perda de informação relevante, a API implementa regras de negócio que condicionam a eliminação de registos:

### RN1 – Regras de eliminação de Veículos
Um veículo **só pode ser eliminado** se:
- RN1.1 – Não possuir reservas associadas, **ou**
- RN1.2 – Todas as reservas associadas estiverem no estado *concluída*.

Um veículo **não pode ser eliminado** se:
- RN1.3 – Possuir reservas ativas,
- RN1.4 – Reservas canceladas,
- RN1.5 – Possuir manutenções registadas.

### RN2 – Regras de eliminação de Clientes
Um cliente **só pode ser apagado** se:
- RN2.1 – Não possuir qualquer reserva associada.

Um cliente **não pode ser eliminado** se:
- RN2.2 – Possuir reservas, independentemente do estado (ativa, concluída ou cancelada).

### RN3 – Regras de eliminação de Funcionários
Um funcionário **só pode ser apagado** se:
- RN3.1 – Não estiver associado a nenhuma reserva.

Um funcionário **não pode ser eliminado** se:
- RN3.2 – Participou no atendimento de pelo menos uma reserva.

> Nota: Existen funcionários específicos de atendimento (IDs: 2, 4, 8, 13, 16, 20, 25, 30, 31 e 39) que participam nas reservas e **não podem ser removidos**.

## 1.8 Organização do Relatório

O presente relatório divide-se nos seguintes capítulos:

- **Capítulo 1 – Enquadramento e Apresentação do Projeto**  
  Contextualização, objetivos, requisitos e regras de negócio.

- **Capítulo 2 – Arquitetura e Modelo de Dados**  
  Estrutura da API, diagrama ER, explicação das tabelas e relacionamento entre entidades.

- **Capítulo 3 – Produto Final e Funcionamento da API**  
  Endpoints, filtros HTTP, exemplos de requests/responses e excertos de código.

- **Capítulo 4 – Avaliação, Conclusões e Trabalho Futuro**  
  Resultados obtidos, desafios encontrados, melhorias possíveis e visão para evolução do sistema.



---
_You can add a footer menu for navigation_ 
< Previous | [^ Main](../../../) | [Next >](c2.md)
:--- | :---: | ---: 
